(function(){"use strict";/*! byojs/Storage: util.mjs
    v0.12.1 (c) 2025 Kyle Simpson
    MIT License: http://getify.mit-license.org
*/var l;function s(t){return t!=null&&typeof t=="object"&&typeof t.then=="function"}function i(){return l??navigator.storage.getDirectory().then(t=>l=t)}/*! byojs/Storage: many.mjs
    v0.12.1 (c) 2025 Kyle Simpson
    MIT License: http://getify.mit-license.org
*/function f(t,e){return e==null||typeof e!="object"||Array.isArray(e)||(e=[...Object.entries(e)]),Promise.all(e.map(([a,n])=>t(a,n))).then(()=>!0)}function m(t,e){return e==null||typeof e!="object"||Array.isArray(e)||(e=[...Object.keys(e)]),Promise.all(e.map(a=>t(a)))}function g(t,e){return e==null||typeof e!="object"||Array.isArray(e)||(e=[...Object.keys(e)]),Promise.all(e.map(a=>t(a))).then(()=>!0)}/*! byojs/Storage: worker.opfs.mjs
    v0.12.1 (c) 2025 Kyle Simpson
    MIT License: http://getify.mit-license.org
*/async function w(t){var e=i();e=s(e)?await e:e;for await(let a of e.keys())if(a==t)return!0;return!1}async function c(t){var e=i();e=s(e)?await e:e;var a=await e.getFileHandle(t,{create:!0}),n=await a.createSyncAccessHandle(),r=new ArrayBuffer(n.getSize());return n.read(r),n.close(),new TextDecoder().decode(r)||null}async function u(t,e){var a=i();a=s(a)?await a:a;var n=await a.getFileHandle(t,{create:!0}),r=await n.createSyncAccessHandle(),o=new TextEncoder().encode(e!=null&&typeof e=="object"?JSON.stringify(e):String(e));return r.truncate(0),r.write(o),r.flush(),r.close(),!0}async function y(t){var e=i();return e=s(e)?await e:e,await e.removeEntry(t),!0}async function v(){var t=i();t=s(t)?await t:t;var e=[];for await(let a of t.keys())e.push(a);return e}async function d(){var t=i();t=s(t)?await t:t;var e=[];for await(let[a,n]of t.entries()){let r=await n.getFile(),o=await r.text()||null;if(o!=null&&o!="")try{e.push([a,o]);continue}catch{}e.push([a,o])}return e}c.many=(...t)=>m(c,...t),u.many=(...t)=>f(u,...t),y.many=(...t)=>g(y,...t),self.addEventListener("message",async function({data:e}={}){var a={has:w,get:c,"get.many":c.many,set:u,"set.many":u.many,remove:y,"remove.many":y.many,keys:v,entries:d};for(let[n,r]of Object.entries(a))if(n in e)return void self.postMessage({[`${n}-complete`]:await r(...e[n])})}),self.postMessage({ready:!0})})();
